# YDLidar:



​      YDLidar SDK是为所有YDLIDAR产品设计的软件开发套件。它基于YDLidar SDK通信协议基于C / C ++开发，并提供易于使用的C / C ++，Python，C＃样式API。使用YDLidar SDK，用户可以快速连接到YDLidar产品并接收激光扫描数据.YDLidar SDK包含YDLidar SDK通信协议，YDLidar SDK核心，YDLidar SDK API，Linux / windows示例和Python演示.

## 1.通信协议(小端模式)

| 内容          | 名称         | 描述                                                         |
| ------------- | ------------ | ------------------------------------------------------------ |
| PH（2B）      | 包头         | 2字节长，固定为0x55AA，低位在前，高位在后。                  |
| CT（1B）      | 包装类型     | 当前报文类型 （0x00 = CT＆0x01）：法线点云数据包。（0x01 = CT＆0x01）：零数据包。 |
| LSN（1B）     | 样本数据编号 | 指示当前数据包中包含的采样点数。零分组中只有零个数据点。该值为1。 |
| FSA（2B）     | 起始角度     | 对应于采样数据中第一个采样点的角度数据。                     |
| LSA（2B）     | 端角         | 对应于采样数据中最后一个采样点的角度数据。                   |
| CS（2B）      | 验证码       | 当前数据包的校验码使用两个字节的异或来检查当前数据包。       |
| Si（2B / 3B） | 采样数据     | 系统测试采样数据是采样点的距离数据。`Note: If the LiDAR has intensity, Si is 3 Byte. otherwise is 2 Byte. Si(3B)-->I(1B)(D(2B)): first Byte is Inentsity, The last two bytes are the Distance.` |

* 由CT获取采样频率
* 由LSN,FSA,LSA获取点的角度
* 由Si获取点的强度和距离（3字节带强度）
* CS进行异或校验

### 零分辨率

起始数据包：（CT＆0x01）= 0x01，LSN = 1，Si =1。扫描频率：当它是零数据包时，激光雷达扫描频率：SF =（CT >> 1）/ 10.f; 计算的频率是前一帧的激光雷达实时频率。如果SF不为零，则协议具有实时频率。有关距离和角度的特定值的分析，请参见距离和角度的分析。（0数据包的第一个字节的最后一位为1）.

### 无强度数据包

### * 距离解析

  Si是采样数据。采样数据设置为E5 6F。由于系统处于小端模式，因此采样点S = 0x6FE5，并将其代入距离解公式，得出

- 三角激光雷达

  ```
  Distance = 7161.25mm
  ```

- TOF激光雷达：

  ```
  Distance = 28645mm
  ```



